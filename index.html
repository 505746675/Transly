<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Transly</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <div class="header" id="header">
            <h1>Transly</h1>
            <p>Ai翻译</p>
        </div>
        
        <div class="content">
            <!-- Language Selector -->
            <div class="language-bar">
                <div class="lang-box">
                    <div class="lang-label">源语言</div>
                    <button id="sourceLangBtn" class="lang-select">
                        <span id="sourceLangDisplay">自动检测</span>
                    </button>
                </div>
                
                <button class="swap-btn" id="swapLangBtn" title="交换语言">⇄</button>
                
                <div class="lang-box">
                    <div class="lang-label">目标语言</div>
                    <button id="targetLangBtn" class="lang-select">
                        <span id="targetLangDisplay">英语</span>
                    </button>
                </div>
            </div>

            <!-- Image Upload Section -->
            <div class="image-upload-section">
                <button id="imageUploadBtn" class="image-upload-btn">
                    <span class="icon"></span> 导入图片翻译，支持拖动、粘贴
                </button>
                <input type="file" id="imageInput" accept="image/*" style="display: none;">
            </div>

            <!-- Image Preview -->
            <div id="imagePreview" class="image-preview">
                <button class="remove-btn" id="removeImageBtn">×</button>
                <img id="previewImg" src="" alt="预览">
            </div>

            <!-- OCR Status -->
            <div id="ocrStatus" class="ocr-status"></div>
            
            <!-- Tab Switcher -->
            <div class="tab-switcher">
                <button class="tab-btn active" id="inputTab">输入</button>
                <button class="tab-btn" id="outputTab">输出</button>
            </div>
            
            <!-- Unified Text Area -->
            <div class="text-container active" id="textContainer">
                <!-- Apple-Style Progress Bar -->
                <div class="progress-bar" id="progressBar"></div>
                
                <textarea 
                    id="inputText" 
                    class="text-input" 
                    placeholder="在此输入或粘贴文本..."
                    maxlength="500"
                ></textarea>
                
                <div id="outputView" class="text-output hidden"></div>
                
                <div class="char-counter" id="charCounter">
                    <span id="charCount">0</span> / 500
                </div>
            </div>
            
            <!-- Main Actions -->
            <div class="controls">
                <button class="btn btn-primary" id="translateBtn">
                    <span class="icon">⚡</span> 翻译
                </button>
                <button class="btn btn-secondary" id="copyBtn">
                    <span class="icon">📋</span> 复制
                </button>
                <button class="btn btn-secondary" id="clearBtn">
                    <span class="icon">✕</span> 清空
                </button>
            </div>
        </div>
        
        <div class="footer">
            <p>由 <a href="https://console.volcengine.com/" onclick="return true;">火山引擎 API</a> 驱动</p>
        </div>
    </div>

    <!-- Language Selection Modal -->
    <div class="modal-overlay" id="langModal">
        <div class="modal">
            <div class="modal-header" id="langModalHeader">选择语言</div>
            <div class="modal-body">
                <div class="lang-modal-search">
                    <input 
                        type="text" 
                        id="langSearchInput" 
                        placeholder="搜索语言..."
                        autocomplete="off"
                    />
                </div>
                <div class="lang-modal-list" id="langModalList"></div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn modal-btn-secondary" id="cancelLangBtn">取消</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>